
<div class="glass-card h-full">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">Preview & Download</h2>
  
  <!-- Empty State -->
  <div *ngIf="!result && !loading && !error" 
       class="h-96 rounded-2xl border-2 border-dashed border-gray-300 flex items-center justify-center">
    <div class="text-center text-gray-400">
      <div class="text-6xl mb-4">ğŸ“„</div>
      <p class="text-lg font-medium">Your optimized resume will appear here</p>
      <p class="text-sm mt-2">Fill out the form and click "Generate" to get started</p>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" 
       class="h-96 rounded-2xl bg-gradient-to-br from-primary-100 to-violet-100 flex items-center justify-center">
    <app-loader 
      message="Optimizing your resume with AI..."
      size="lg"></app-loader>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !loading" 
       class="p-6 bg-red-50 border border-red-200 rounded-xl">
    <div class="flex items-start">
      <span class="text-3xl mr-3">âŒ</span>
      <div>
        <h3 class="font-bold text-red-800 mb-1">Generation Failed</h3>
        <p class="text-sm text-red-700">{{error}}</p>
        <p class="text-xs text-red-600 mt-2">Please check your input and try again</p>
      </div>
    </div>
  </div>

  <!-- Success State -->
  <div *ngIf="result && !loading" class="animate-fade-in space-y-6">
    <!-- Success Message -->
    <div class="p-4 bg-green-50 border border-green-200 rounded-xl">
      <div class="flex items-center">
        <span class="text-3xl mr-3">âœ…</span>
        <div class="flex-1">
          <h3 class="font-bold text-green-800">Resume Generated Successfully!</h3>
          <p class="text-sm text-green-700">Your ATS-optimized resume is ready to download</p>
        </div>
      </div>
    </div>

    <!-- Download Button -->
    <button 
      (click)="onDownload()" 
      class="w-full py-4 bg-gradient-to-r from-gray-800 to-gray-900 text-white rounded-xl font-semibold text-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] flex items-center justify-center">
      <span class="mr-2">ğŸ“¥</span> Download PDF Resume
    </button>

    <!-- AI Suggestions -->
    <div class="bg-blue-50 rounded-xl p-6 border border-blue-200">
      <h3 class="font-bold text-blue-900 mb-3 flex items-center">
        <span class="text-xl mr-2">ğŸ’¡</span>
        AI Optimization Suggestions
      </h3>
      <ul class="space-y-2">
        <li *ngFor="let suggestion of result.suggestions" 
            class="text-sm text-blue-800 flex items-start">
          <span class="mr-2 mt-0.5">â€¢</span>
          <span>{{suggestion}}</span>
        </li>
      </ul>
    </div>

    <!-- Optimized Summary Preview -->
    <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 border border-gray-200">
      <h3 class="font-bold text-gray-800 mb-3 flex items-center">
        <span class="text-xl mr-2">ğŸ“</span>
        Professional Summary
      </h3>
      <p class="text-sm text-gray-700 leading-relaxed italic">
        "{{result.optimized_resume.summary}}"
      </p>
    </div>

    <!-- Skills Preview -->
    <div *ngIf="result.optimized_resume.skills" class="bg-white rounded-xl p-6 border border-gray-200">
      <h3 class="font-bold text-gray-800 mb-3 flex items-center">
        <span class="text-xl mr-2">âš¡</span>
        Prioritized Skills
      </h3>
      <div class="flex flex-wrap gap-2">
        <span *ngFor="let skill of result.optimized_resume.skills.slice(0, 10)" 
              class="px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium">
          {{skill}}
        </span>
        <span *ngIf="result.optimized_resume.skills.length > 10" 
              class="px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-sm">
          +{{result.optimized_resume.skills.length - 10}} more
        </span>
      </div>
    </div>

    <!-- Info Footer -->
    <div class="text-center text-sm text-gray-500 pt-4 border-t border-gray-200">
      <p>âœ¨ Your resume has been optimized for ATS compatibility</p>
      <p class="mt-1">ğŸ“Œ Remember to customize it further for each specific job</p>
    </div>
  </div>
</div>



