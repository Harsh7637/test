<div class="glass-card max-h-[800px] overflow-y-auto custom-scrollbar">
  <h2 class="text-2xl font-bold text-gray-800 mb-6 sticky top-0 bg-white/80 backdrop-blur-sm pb-2 z-10">
    Your Information
  </h2>
  
  <!-- Personal Information Section -->
  <div class="space-y-4 mb-6">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="md:col-span-2">
        <label class="block text-sm font-semibold text-gray-700 mb-2">
          Full Name <span class="text-red-500">*</span>
        </label>
        <input 
          type="text" 
          [(ngModel)]="resumeData.name"
          (ngModelChange)="emitChange()"
          class="input-field" 
          placeholder="John Doe"
          required>
      </div>
      
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">
          Email <span class="text-red-500">*</span>
        </label>
        <input 
          type="email" 
          [(ngModel)]="resumeData.email"
          (ngModelChange)="emitChange()"
          class="input-field" 
          placeholder="john@example.com"
          required>
      </div>
      
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">
          Phone <span class="text-red-500">*</span>
        </label>
        <input 
          type="tel" 
          [(ngModel)]="resumeData.phone"
          (ngModelChange)="emitChange()"
          class="input-field" 
          placeholder="(555) 123-4567"
          required>
      </div>
      
      <div class="md:col-span-2">
        <label class="block text-sm font-semibold text-gray-700 mb-2">
          Target Job Role <span class="text-red-500">*</span>
        </label>
        <input 
          type="text" 
          [(ngModel)]="resumeData.target_role"
          (ngModelChange)="emitChange()"
          class="input-field" 
          placeholder="Senior Software Engineer"
          required>
      </div>
    </div>
  </div>

  <!-- Skills Section -->
  <div class="mb-6">
    <label class="block text-sm font-semibold text-gray-700 mb-2">
      Skills (comma-separated) <span class="text-red-500">*</span>
    </label>
    <textarea 
      [(ngModel)]="skillsInput"
      (ngModelChange)="emitChange()"
      rows="2" 
      class="textarea-field" 
      placeholder="Python, JavaScript, React, Node.js, AWS, Docker"
      required></textarea>
    <p class="text-xs text-gray-500 mt-1">Separate each skill with a comma</p>
  </div>

  <!-- Experience Section -->
  <div class="mb-6">
    <label class="block text-sm font-semibold text-gray-700 mb-3">
      Work Experience <span class="text-red-500">*</span>
    </label>
    
    <div *ngFor="let exp of resumeData.experience; let i = index" 
         class="mb-4 p-4 bg-gray-50 rounded-xl border border-gray-200">
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-3">
        <input 
          type="text" 
          [(ngModel)]="exp.title"
          (ngModelChange)="emitChange()"
          placeholder="Job Title" 
          class="px-3 py-2 rounded-lg border border-gray-300 focus:border-primary-500 focus:outline-none">
        
        <input 
          type="text" 
          [(ngModel)]="exp.company"
          (ngModelChange)="emitChange()"
          placeholder="Company Name" 
          class="px-3 py-2 rounded-lg border border-gray-300 focus:border-primary-500 focus:outline-none">
      </div>
      
      <input 
        type="text" 
        [(ngModel)]="exp.duration"
        (ngModelChange)="emitChange()"
        placeholder="Duration (e.g., Jan 2020 - Present)" 
        class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-primary-500 focus:outline-none mb-3">
      
      <div class="space-y-2">
        <p class="text-sm font-medium text-gray-600">Responsibilities & Achievements:</p>
        <div *ngFor="let resp of exp.responsibilities; let j = index" class="flex gap-2">
          <textarea 
            [(ngModel)]="exp.responsibilities[j]"
            (ngModelChange)="emitChange()"
            rows="2" 
            placeholder="• Led development of..."
            class="flex-1 px-3 py-2 rounded-lg border border-gray-300 focus:border-primary-500 focus:outline-none resize-none"></textarea>
          
          <button 
            *ngIf="exp.responsibilities.length > 1"
            (click)="removeResponsibility(i, j)" 
            class="px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors">
            ✕
          </button>
        </div>
        
        <button 
          (click)="addResponsibility(i)" 
          class="text-sm px-3 py-2 bg-primary-100 text-primary-700 rounded-lg hover:bg-primary-200 transition-colors">
          + Add Bullet Point
        </button>
      </div>
      
      <div class="mt-3 pt-3 border-t border-gray-200">
        <button 
          *ngIf="resumeData.experience.length > 1"
          (click)="removeExperience(i)" 
          class="text-sm px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors">
          Remove This Job
        </button>
      </div>
    </div>
    
    <button 
      (click)="addExperience()" 
      class="w-full py-3 border-2 border-dashed border-gray-300 rounded-xl text-gray-600 hover:border-primary-400 hover:text-primary-600 transition-colors font-medium">
      + Add Another Job
    </button>
  </div>

  <!-- Education Section -->
  <div class="mb-6">
    <label class="block text-sm font-semibold text-gray-700 mb-3">
      Education <span class="text-red-500">*</span>
    </label>
    
    <div *ngFor="let edu of resumeData.education; let i = index" 
         class="mb-3 p-4 bg-gray-50 rounded-xl border border-gray-200">
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-3">
        <input 
          type="text" 
          [(ngModel)]="edu.degree"
          (ngModelChange)="emitChange()"
          placeholder="Degree (e.g., BS Computer Science)" 
          class="px-3 py-2 rounded-lg border border-gray-300 focus:border-primary-500 focus:outline-none">
        
        <input 
          type="text" 
          [(ngModel)]="edu.institution"
          (ngModelChange)="emitChange()"
          placeholder="University/College" 
          class="px-3 py-2 rounded-lg border border-gray-300 focus:border-primary-500 focus:outline-none">
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
        <input 
          type="text" 
          [(ngModel)]="edu.year"
          (ngModelChange)="emitChange()"
          placeholder="Graduation Year" 
          class="px-3 py-2 rounded-lg border border-gray-300 focus:border-primary-500 focus:outline-none">
        
        <input 
          type="text" 
          [(ngModel)]="edu.gpa"
          (ngModelChange)="emitChange()"
          placeholder="GPA (optional)" 
          class="px-3 py-2 rounded-lg border border-gray-300 focus:border-primary-500 focus:outline-none">
      </div>
      
      <button 
        *ngIf="resumeData.education.length > 1"
        (click)="removeEducation(i)" 
        class="mt-3 text-sm px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors">
        Remove
      </button>
    </div>
    
    <button 
      (click)="addEducation()" 
      class="w-full py-3 border-2 border-dashed border-gray-300 rounded-xl text-gray-600 hover:border-primary-400 hover:text-primary-600 transition-colors font-medium">
      + Add Another Degree
    </button>
  </div>

  <!-- Job Description -->
  <div class="mb-6">
    <label class="block text-sm font-semibold text-gray-700 mb-2">
      Target Job Description <span class="text-red-500">*</span>
    </label>
    <textarea 
      [(ngModel)]="resumeData.job_description"
      (ngModelChange)="emitChange()"
      rows="4" 
      class="textarea-field" 
      placeholder="Paste the complete job description here to optimize your resume for this specific role..."
      required></textarea>
    <p class="text-xs text-gray-500 mt-1">
      This helps our AI optimize your resume with relevant keywords
    </p>
  </div>

  <!-- Generate Button -->
  <button 
    (click)="onGenerate()" 
    [disabled]="loading || !isFormValid()" 
    class="btn-primary w-full py-4 text-lg font-semibold shadow-lg">
    <span *ngIf="!loading" class="flex items-center justify-center">
      <span class="mr-2">✨</span> Generate Optimized Resume
    </span>
    <span *ngIf="loading" class="flex items-center justify-center">
      <svg class="spinner mr-3 h-5 w-5" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
      </svg>
      Generating...
    </span>
  </button>
  
  <p class="text-xs text-center text-gray-500 mt-3">
    All fields marked with <span class="text-red-500">*</span> are required
  </p>
</div>
